scheduler.date.add_agenda=function(n){return new Date(n.valueOf())};scheduler.dblclick_dhx_agenda_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow()};scheduler.templates.agenda_time=function(n,t,i){return i._timed?this.day_date(i.start_date,i.end_date,i)+" . "+this.event_date(n)+" - "+this.event_date(t):scheduler.templates.day_date(n)+" &ndash; "+scheduler.templates.day_date(t)};scheduler.templates.agenda_text=function(n){return n.text};scheduler.date.agenda_start=function(n){return n};scheduler.attachEvent("onTemplatesReady",function(){function i(n){if(n){var t=scheduler.locale.labels;scheduler._els.dhx_cal_header[0].innerHTML="<div class='dhx_agenda_line'><div>"+t.date+"<\/div><span style='padding-left:25px'>"+t.description+"<\/span><\/div>";scheduler._table_view=!0;scheduler.set_sizes()}}function n(){var f=scheduler._date,t=scheduler.get_visible_events(),i,r,u,n;for(t.sort(function(n,t){return n.start_date>t.start_date?1:-1}),i="<div class='dhx_agenda_area'>",n=0;n<t.length;n++)r="0",scheduler._showbox_check(t[n])==!0&&(r="1"),i+="<div class='dhx_agenda_line' event_id='"+t[n].id+"' style='"+(t[n]._text_style||"")+"'  show_flg='"+r+"'><div>"+scheduler.templates.agenda_time(t[n].start_date,t[n].end_date,t[n])+"<\/div>",i+="<div class='dhx_event_icon icon_details'>&nbsp<\/div>",ICON=scheduler._getPriority_icon(t[n]),i+="<span>"+ICON+scheduler.templates.agenda_text(t[n])+"<\/span><\/div>";for(i+="<div class='dhx_v_border'><\/div><\/div>",scheduler._els.dhx_cal_data[0].scrollTop=0,scheduler._els.dhx_cal_data[0].innerHTML=i,u=scheduler._els.dhx_cal_data[0].firstChild.childNodes,scheduler._els.dhx_cal_date[0].innerHTML="",scheduler._rendered=[],n=0;n<u.length-1;n++)scheduler._rendered[n]=u[n]}scheduler.attachEvent("onSchedulerResize",function(){return this._mode=="agenda"?(this.agenda_view(!0),!1):!0});var t=scheduler.render_data;scheduler.render_data=function(){if(this._mode=="agenda")n();else return t.apply(this,arguments)};scheduler.agenda_view=function(t){scheduler._min_date=scheduler.config.agenda_start||new Date;scheduler._max_date=scheduler.config.agenda_end||new Date(9999,1,1);scheduler._table_view=!0;i(t);t&&n()}})